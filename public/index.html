<!DOCTYPE html>
<html>
<head>
	<link rel="import" href="../bower_components/siva-recipe-creation/siva-recipe-creation.html"/>
	<link rel="import" href="../bower_components/paper-spinner/paper-spinner.html"/>
	<link rel="import" href="../bower_components/login-form/login-form.html"/>
	<style is="custom-style" include="iron-flex"></style>
	
<style>
body{
	min-width:1100px;
}
paper-spinner{
	position:absolute;
	top:30%;
	left:40%;
}
</style>
</head>

<body>
<div id="loginPage">
<login-form></login-form>
</div>

<div id="totalContent" hidden>
	<paper-spinner active></paper-spinner>
	<siva-recipe-creation hidden></siva-recipe-creation>
</div>

</body>
</html>


<script>

console.log(localStorage.loggedIn);

if(localStorage.loggedIn == "true"){
	document.querySelector("#loginPage").hidden = true;
	document.querySelector("#totalContent").hidden = false;
}	

document.querySelector('login-form').addEventListener('loggedIn', function (e) {
	document.querySelector("#loginPage").hidden = true;
	document.querySelector("#totalContent").hidden = false;
	localStorage.loggedIn = true;

});

document.querySelector('siva-recipe-creation').addEventListener('rendered', function (e) {
	document.querySelector("paper-spinner").active = false;
    document.querySelector("siva-recipe-creation").hidden = false;
});
</script>
